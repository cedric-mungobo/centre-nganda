import{t as E,q as j,u as N,v as $,x as C,b as P,e as A}from"./animate.es-lb_5vvPK.js";function F(e,r){return r?e*(1e3/r):0}function H(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s}const K=5;function G(e,r,s){const t=Math.max(r-K,0);return F(s-e(t),r-t)}const v={stiffness:100,damping:10,mass:1},_=(e=v.stiffness,r=v.damping,s=v.mass)=>r/(2*Math.sqrt(e*s));function k(e,r,s){return e<r&&s>=r||e>r&&s<=r}const B=({stiffness:e=v.stiffness,damping:r=v.damping,mass:s=v.mass,from:t=0,to:n=1,velocity:i=0,restSpeed:a,restDistance:f}={})=>{i=i?E.s(i):0;const c={done:!1,hasReachedTarget:!1,current:t,target:n},u=n-t,o=Math.sqrt(e/s)/1e3,p=_(e,r,s),d=Math.abs(u)<5;a||(a=d?.01:2),f||(f=d?.005:.5);let g;if(p<1){const l=o*Math.sqrt(1-p*p);g=h=>n-Math.exp(-p*o*h)*((-i+p*o*u)/l*Math.sin(l*h)+u*Math.cos(l*h))}else g=l=>n-Math.exp(-o*l)*(u+(-i+o*u)*l);return l=>{c.current=g(l);const h=l===0?i:G(g,l,c.current),M=Math.abs(h)<=a,m=Math.abs(n-c.current)<=f;return c.done=M&&m,c.hasReachedTarget=k(t,n,c.current),c}},T=10,I=1e4;function U(e,r=j){let s,t=T,n=e(0);const i=[r(n.current)];for(;!n.done&&t<I;)n=e(t),i.push(r(n.done?n.target:n.current)),s===void 0&&n.hasReachedTarget&&(s=t),t+=T;const a=t-T;return i.length===1&&i.push(n.current),{keyframes:i,duration:a/1e3,overshootDuration:(s??a)/1e3}}function x(e){return P(e)&&!isNaN(e)}function w(e){return A(e)?parseFloat(e):e}function W(e){const r=new WeakMap;return(s={})=>{const t=new Map,n=(a=0,f=100,c=0,u=!1)=>{const o=`${a}-${f}-${c}-${u}`;return t.has(o)||t.set(o,e(Object.assign({from:a,to:f,velocity:c},s))),t.get(o)},i=(a,f)=>(r.has(a)||r.set(a,U(a,f)),r.get(a));return{createAnimation:(a,f=!0,c,u,o)=>{let p,d,g,l=0,h=j;const M=a.length;if(f){h=N(a,u?$.get(C(u)):void 0);const m=a[M-1];if(g=w(m),M>1&&a[0]!==null)d=w(a[0]);else{const y=o==null?void 0:o.generator;if(y){const{animation:b,generatorStartTime:R}=o,q=(b==null?void 0:b.startTime)||R||0,O=(b==null?void 0:b.currentTime)||performance.now()-q,S=y(O).current;d=S,l=G(D=>y(D).current,O,S)}else c&&(d=w(c()))}}if(x(d)&&x(g)){const m=n(d,g,l,u==null?void 0:u.includes("scale"));p=Object.assign(Object.assign({},i(m,h)),{easing:"linear"}),o&&(o.generator=m,o.generatorStartTime=performance.now())}return p||(p={easing:"ease",duration:i(n(0,100)).overshootDuration}),p}}}}const J=W(B);export{H as _,J as s,F as v};
